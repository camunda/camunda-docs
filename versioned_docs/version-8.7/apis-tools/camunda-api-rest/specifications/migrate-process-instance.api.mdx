---
id: migrate-process-instance
title: "Migrate process instance"
description: "Migrates a process instance to a new process definition."
sidebar_label: "Migrate process instance"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: versioned_docs/version-8.7/apis-tools/camunda-api-rest/specifications/camunda-8-rest-api
custom_edit_url: null
hide_send_button: true
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Migrate process instance"}
></Heading>

<MethodEndpoint
  method={"post"}
  path={"/process-instances/{processInstanceKey}/migration"}
  context={"endpoint"}
></MethodEndpoint>

Migrates a process instance to a new process definition.
This request can contain multiple mapping instructions to define mapping between the active
process instance's elements and target process definition elements.

Use this to upgrade a process instance to a new version of a process or to
a different process definition, e.g. to keep your running instances up-to-date with the
latest process improvements.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
></Heading>

<ParamsDetails
  parameters={[
    {
      name: "processInstanceKey",
      in: "path",
      required: true,
      description: "The key of the process instance that should be migrated.",
      schema: { type: "string" },
    },
  ]}
></ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{
    required: true,
    content: {
      "application/json": {
        schema: {
          type: "object",
          allOf: [
            {
              description: "Base properties for MigrateProcessInstanceRequest",
              type: "object",
              properties: {
                mappingInstructions: {
                  type: "array",
                  items: {
                    type: "object",
                    description:
                      "The mapping instructions describe how to map elements from the source process definition to the target process definition.\n",
                    properties: {
                      sourceElementId: {
                        description: "The element ID to migrate from.",
                        type: "string",
                      },
                      targetElementId: {
                        description: "The element ID to migrate into.",
                        type: "string",
                      },
                    },
                    required: ["sourceElementId", "targetElementId"],
                    title: "MigrateProcessInstanceMappingInstruction",
                  },
                },
                operationReference: {
                  description:
                    "A reference key chosen by the user that will be part of all records resulting from this operation. Must be > 0 if provided.\n",
                  type: "integer",
                  format: "int64",
                  minimum: 1,
                },
              },
              title: "MigrateProcessInstanceRequestBase",
            },
          ],
          properties: {
            targetProcessDefinitionKey: {
              description:
                "The key of process definition to migrate the process instance to.",
              type: "string",
            },
          },
          required: ["targetProcessDefinitionKey", "mappingInstructions"],
          title: "ProcessInstanceMigrationInstruction",
        },
      },
      "application/vnd.camunda.api.keys.number+json": {
        schema: {
          deprecated: true,
          type: "object",
          allOf: [
            {
              description: "Base properties for MigrateProcessInstanceRequest",
              type: "object",
              properties: {
                mappingInstructions: {
                  type: "array",
                  items: {
                    type: "object",
                    description:
                      "The mapping instructions describe how to map elements from the source process definition to the target process definition.\n",
                    properties: {
                      sourceElementId: {
                        description: "The element ID to migrate from.",
                        type: "string",
                      },
                      targetElementId: {
                        description: "The element ID to migrate into.",
                        type: "string",
                      },
                    },
                    required: ["sourceElementId", "targetElementId"],
                    title: "MigrateProcessInstanceMappingInstruction",
                  },
                },
                operationReference: {
                  description:
                    "A reference key chosen by the user that will be part of all records resulting from this operation. Must be > 0 if provided.\n",
                  type: "integer",
                  format: "int64",
                  minimum: 1,
                },
              },
              title: "MigrateProcessInstanceRequestBase",
            },
          ],
          properties: {
            targetProcessDefinitionKey: {
              description:
                "The key of process definition to migrate the process instance to.",
              type: "integer",
              format: "int64",
            },
          },
          required: ["targetProcessDefinitionKey", "mappingInstructions"],
          title: "MigrateProcessInstanceRequest",
        },
      },
      "application/vnd.camunda.api.keys.string+json": {
        schema: {
          type: "object",
          allOf: [
            {
              description: "Base properties for MigrateProcessInstanceRequest",
              type: "object",
              properties: {
                mappingInstructions: {
                  type: "array",
                  items: {
                    type: "object",
                    description:
                      "The mapping instructions describe how to map elements from the source process definition to the target process definition.\n",
                    properties: {
                      sourceElementId: {
                        description: "The element ID to migrate from.",
                        type: "string",
                      },
                      targetElementId: {
                        description: "The element ID to migrate into.",
                        type: "string",
                      },
                    },
                    required: ["sourceElementId", "targetElementId"],
                    title: "MigrateProcessInstanceMappingInstruction",
                  },
                },
                operationReference: {
                  description:
                    "A reference key chosen by the user that will be part of all records resulting from this operation. Must be > 0 if provided.\n",
                  type: "integer",
                  format: "int64",
                  minimum: 1,
                },
              },
              title: "MigrateProcessInstanceRequestBase",
            },
          ],
          properties: {
            targetProcessDefinitionKey: {
              description:
                "The key of process definition to migrate the process instance to.",
              type: "string",
            },
          },
          required: ["targetProcessDefinitionKey", "mappingInstructions"],
          title: "ProcessInstanceMigrationInstruction",
        },
      },
    },
  }}
></RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{
    "204": { description: "The process instance is migrated." },
    "400": {
      description: "The provided data is not valid.",
      content: {
        "application/problem+json": {
          schema: {
            description:
              "A Problem detail object as described in [RFC 9457](https://www.rfc-editor.org/rfc/rfc9457). There may be additional properties specific to the problem type.\n",
            type: "object",
            properties: {
              type: {
                type: "string",
                format: "uri",
                description: "A URI identifying the problem type.",
                default: "about:blank",
              },
              title: {
                type: "string",
                description: "A summary of the problem type.",
              },
              status: {
                type: "integer",
                format: "int32",
                description: "The HTTP status code for this problem.",
                minimum: 400,
                maximum: 600,
              },
              detail: {
                type: "string",
                description: "An explanation of the problem in more detail.",
              },
              instance: {
                type: "string",
                format: "uri",
                description: "A URI identifying the origin of the problem.",
              },
            },
            title: "ProblemDetail",
          },
        },
      },
    },
    "404": {
      description: "The process instance is not found.",
      content: {
        "application/problem+json": {
          schema: {
            description:
              "A Problem detail object as described in [RFC 9457](https://www.rfc-editor.org/rfc/rfc9457). There may be additional properties specific to the problem type.\n",
            type: "object",
            properties: {
              type: {
                type: "string",
                format: "uri",
                description: "A URI identifying the problem type.",
                default: "about:blank",
              },
              title: {
                type: "string",
                description: "A summary of the problem type.",
              },
              status: {
                type: "integer",
                format: "int32",
                description: "The HTTP status code for this problem.",
                minimum: 400,
                maximum: 600,
              },
              detail: {
                type: "string",
                description: "An explanation of the problem in more detail.",
              },
              instance: {
                type: "string",
                format: "uri",
                description: "A URI identifying the origin of the problem.",
              },
            },
            title: "ProblemDetail",
          },
        },
      },
    },
    "500": {
      description: "An internal error occurred while processing the request.",
      content: {
        "application/problem+json": {
          schema: {
            description:
              "A Problem detail object as described in [RFC 9457](https://www.rfc-editor.org/rfc/rfc9457). There may be additional properties specific to the problem type.\n",
            type: "object",
            properties: {
              type: {
                type: "string",
                format: "uri",
                description: "A URI identifying the problem type.",
                default: "about:blank",
              },
              title: {
                type: "string",
                description: "A summary of the problem type.",
              },
              status: {
                type: "integer",
                format: "int32",
                description: "The HTTP status code for this problem.",
                minimum: 400,
                maximum: 600,
              },
              detail: {
                type: "string",
                description: "An explanation of the problem in more detail.",
              },
              instance: {
                type: "string",
                format: "uri",
                description: "A URI identifying the origin of the problem.",
              },
            },
            title: "ProblemDetail",
          },
        },
      },
    },
  }}
></StatusCodes>
