---
id: migrate-process-instance
title: "Migrate process instance"
description: "Migrates a process instance to a new process definition."
sidebar_label: "Migrate process instance"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/apis-tools/orchestration-cluster-api-rest/specifications/orchestration-cluster-rest-api
custom_edit_url: null
hide_send_button: true
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Migrate process instance"}
></Heading>

<MethodEndpoint
  method={"post"}
  path={"/process-instances/{processInstanceKey}/migration"}
  context={"endpoint"}
></MethodEndpoint>

Migrates a process instance to a new process definition.
This request can contain multiple mapping instructions to define mapping between the active
process instance's elements and target process definition elements.

Use this to upgrade a process instance to a new version of a process or to
a different process definition, e.g. to keep your running instances up-to-date with the
latest process improvements.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
></Heading>

<ParamsDetails
  parameters={[
    {
      name: "processInstanceKey",
      in: "path",
      required: true,
      description: "The key of the process instance that should be migrated.",
      schema: { type: "string" },
    },
  ]}
></ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{
    required: true,
    content: {
      "application/json": {
        schema: {
          type: "object",
          description:
            "The migration instructions describe how to migrate a process instance from one process definition to another.\n",
          properties: {
            mappingInstructions: {
              description:
                "Element mappings from the source process instance to the target process instance.",
              type: "array",
              items: {
                type: "object",
                description:
                  "The mapping instructions describe how to map elements from the source process definition to the target process definition.\n",
                properties: {
                  sourceElementId: {
                    description: "The element ID to migrate from.",
                    type: "string",
                  },
                  targetElementId: {
                    description: "The element ID to migrate into.",
                    type: "string",
                  },
                },
                required: ["sourceElementId", "targetElementId"],
                title: "MigrateProcessInstanceMappingInstruction",
              },
            },
            operationReference: {
              description:
                "A reference key chosen by the user that will be part of all records resulting from this operation. Must be > 0 if provided.\n",
              type: "integer",
              format: "int64",
              minimum: 1,
            },
            targetProcessDefinitionKey: {
              description:
                "The key of process definition to migrate the process instance to.",
              type: "string",
            },
          },
          required: ["targetProcessDefinitionKey", "mappingInstructions"],
          title: "ProcessInstanceMigrationInstruction",
        },
      },
    },
  }}
></RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{
    "204": { description: "The process instance is migrated." },
    "400": {
      description: "The provided data is not valid.",
      content: {
        "application/problem+json": {
          schema: {
            description:
              "A Problem detail object as described in [RFC 9457](https://www.rfc-editor.org/rfc/rfc9457). There may be additional properties specific to the problem type.\n",
            type: "object",
            properties: {
              type: {
                type: "string",
                format: "uri",
                description: "A URI identifying the problem type.",
                default: "about:blank",
              },
              title: {
                type: "string",
                description: "A summary of the problem type.",
              },
              status: {
                type: "integer",
                format: "int32",
                description: "The HTTP status code for this problem.",
                minimum: 400,
                maximum: 600,
              },
              detail: {
                type: "string",
                description: "An explanation of the problem in more detail.",
              },
              instance: {
                type: "string",
                format: "uri",
                description: "A URI identifying the origin of the problem.",
              },
            },
            title: "ProblemDetail",
          },
        },
      },
    },
    "404": {
      description: "The process instance is not found.",
      content: {
        "application/problem+json": {
          schema: {
            description:
              "A Problem detail object as described in [RFC 9457](https://www.rfc-editor.org/rfc/rfc9457). There may be additional properties specific to the problem type.\n",
            type: "object",
            properties: {
              type: {
                type: "string",
                format: "uri",
                description: "A URI identifying the problem type.",
                default: "about:blank",
              },
              title: {
                type: "string",
                description: "A summary of the problem type.",
              },
              status: {
                type: "integer",
                format: "int32",
                description: "The HTTP status code for this problem.",
                minimum: 400,
                maximum: 600,
              },
              detail: {
                type: "string",
                description: "An explanation of the problem in more detail.",
              },
              instance: {
                type: "string",
                format: "uri",
                description: "A URI identifying the origin of the problem.",
              },
            },
            title: "ProblemDetail",
          },
        },
      },
    },
    "500": {
      description: "An internal error occurred while processing the request.\n",
      content: {
        "application/problem+json": {
          schema: {
            description:
              "A Problem detail object as described in [RFC 9457](https://www.rfc-editor.org/rfc/rfc9457). There may be additional properties specific to the problem type.\n",
            type: "object",
            properties: {
              type: {
                type: "string",
                format: "uri",
                description: "A URI identifying the problem type.",
                default: "about:blank",
              },
              title: {
                type: "string",
                description: "A summary of the problem type.",
              },
              status: {
                type: "integer",
                format: "int32",
                description: "The HTTP status code for this problem.",
                minimum: 400,
                maximum: 600,
              },
              detail: {
                type: "string",
                description: "An explanation of the problem in more detail.",
              },
              instance: {
                type: "string",
                format: "uri",
                description: "A URI identifying the origin of the problem.",
              },
            },
            title: "ProblemDetail",
          },
        },
      },
    },
  }}
></StatusCodes>
