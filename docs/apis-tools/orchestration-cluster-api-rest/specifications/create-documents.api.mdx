---
id: create-documents
title: "Upload multiple documents"
description: "<MarkerStronglyConsistentExtension /> [Learn about endpoint consistency](../../orchestration-cluster-api-rest-data-fetching/#data-consistency)"
sidebar_label: "Upload multiple documents"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/apis-tools/orchestration-cluster-api-rest/specifications/orchestration-cluster-api
custom_edit_url: null
hide_send_button: true
---

import MarkerStronglyConsistentExtension from "@site/src/mdx/MarkerStronglyConsistentExtension";

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Upload multiple documents"}
></Heading>

<MethodEndpoint
  method={"post"}
  path={"/documents/batch"}
  context={"endpoint"}
></MethodEndpoint>

<MarkerStronglyConsistentExtension /> [Learn about endpoint
consistency](../../orchestration-cluster-api-rest-data-fetching/#data-consistency)

Upload multiple documents to the Camunda 8 cluster.

The caller must provide a file name for each document, which will be used in case of a multi-status response
to identify which documents failed to upload. The file name can be provided in the `Content-Disposition` header
of the file part or in the `fileName` field of the metadata. You can add a parallel array of metadata objects. These
are matched with the files based on index, and must have the same length as the files array.
To pass homogenous metadata for all files, spread the metadata over the metadata array.
A filename value provided explicitly via the metadata array in the request overrides the `Content-Disposition` header
of the file part.

In case of a multi-status response, the response body will contain a list of `DocumentBatchProblemDetail` objects,
each of which contains the file name of the document that failed to upload and the reason for the failure.
The client can choose to retry the whole batch or individual documents based on the response.

Note that this is currently supported for document stores of type: AWS, GCP, in-memory (non-production), local (non-production)

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
></Heading>

<ParamsDetails
  parameters={[
    {
      name: "storeId",
      in: "query",
      required: false,
      description:
        "The ID of the document store to upload the documents to. Currently, only a single document store is supported per cluster. However, this attribute is included to allow for potential future support of multiple document stores.",
      schema: { type: "string" },
    },
  ]}
></ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{
    required: true,
    content: {
      "multipart/form-data": {
        schema: {
          type: "object",
          properties: {
            files: {
              type: "array",
              description: "The documents to upload.",
              items: { type: "string", format: "binary" },
              minItems: 1,
            },
            metadataList: {
              type: "array",
              description:
                "Optional JSON array of metadata object whose index aligns with each file entry. The metadata array must have the same length as the files array.\n",
              items: {
                description: "Information about the document.",
                type: "object",
                properties: {
                  contentType: {
                    type: "string",
                    description: "The content type of the document.",
                  },
                  fileName: {
                    type: "string",
                    description: "The name of the file.",
                  },
                  expiresAt: {
                    type: "string",
                    format: "date-time",
                    description: "The date and time when the document expires.",
                  },
                  size: {
                    type: "integer",
                    format: "int64",
                    description: "The size of the document in bytes.",
                  },
                  processDefinitionId: {
                    allOf: [
                      {
                        description:
                          "Id of a process definition, from the model. Only ids of process definitions that are deployed are useful.",
                        format: "ProcessDefinitionId",
                        type: "string",
                        example: "new-account-onboarding-workflow",
                        title: "ProcessDefinitionId",
                      },
                    ],
                    description:
                      "The ID of the process definition that created the document.",
                  },
                  processInstanceKey: {
                    allOf: [
                      {
                        description:
                          "System-generated key for a process instance.",
                        format: "ProcessInstanceKey",
                        example: "2251799813690746",
                        type: "string",
                        allOf: [
                          {
                            description:
                              "Zeebe Engine resource key (Java long serialized as string)",
                            type: "string",
                            title: "LongKey",
                          },
                        ],
                        title: "ProcessInstanceKey",
                      },
                    ],
                    description:
                      "The key of the process instance that created the document.",
                  },
                  customProperties: {
                    type: "object",
                    description: "Custom properties of the document.",
                    additionalProperties: true,
                  },
                },
                title: "DocumentMetadata",
              },
            },
          },
          required: ["files"],
        },
        encoding: {
          files: {
            headers: {
              "X-Document-Metadata": {
                description: "DEPRECATED - prefer metadataList.",
                schema: {
                  description: "Information about the document.",
                  type: "object",
                  properties: {
                    contentType: {
                      type: "string",
                      description: "The content type of the document.",
                    },
                    fileName: {
                      type: "string",
                      description: "The name of the file.",
                    },
                    expiresAt: {
                      type: "string",
                      format: "date-time",
                      description:
                        "The date and time when the document expires.",
                    },
                    size: {
                      type: "integer",
                      format: "int64",
                      description: "The size of the document in bytes.",
                    },
                    processDefinitionId: {
                      allOf: [
                        {
                          description:
                            "Id of a process definition, from the model. Only ids of process definitions that are deployed are useful.",
                          format: "ProcessDefinitionId",
                          type: "string",
                          example: "new-account-onboarding-workflow",
                          title: "ProcessDefinitionId",
                        },
                      ],
                      description:
                        "The ID of the process definition that created the document.",
                    },
                    processInstanceKey: {
                      allOf: [
                        {
                          description:
                            "System-generated key for a process instance.",
                          format: "ProcessInstanceKey",
                          example: "2251799813690746",
                          type: "string",
                          allOf: [
                            {
                              description:
                                "Zeebe Engine resource key (Java long serialized as string)",
                              type: "string",
                              title: "LongKey",
                            },
                          ],
                          title: "ProcessInstanceKey",
                        },
                      ],
                      description:
                        "The key of the process instance that created the document.",
                    },
                    customProperties: {
                      type: "object",
                      description: "Custom properties of the document.",
                      additionalProperties: true,
                    },
                  },
                  title: "DocumentMetadata",
                },
              },
            },
          },
        },
      },
    },
  }}
></RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{
    "201": {
      description: "All documents were uploaded successfully.",
      content: {
        "application/json": {
          schema: {
            allOf: [
              {
                type: "object",
                properties: {
                  createdDocuments: {
                    type: "array",
                    description: "Documents that were successfully created.",
                    items: {
                      type: "object",
                      properties: {
                        "camunda.document.type": {
                          type: "string",
                          description:
                            'Document discriminator. Always set to "camunda".',
                          enum: ["camunda"],
                        },
                        storeId: {
                          type: "string",
                          description: "The ID of the document store.",
                        },
                        documentId: {
                          allOf: [
                            {
                              description:
                                "Document Id that uniquely identifies a document.",
                              format: "DocumentId",
                              type: "string",
                              title: "DocumentId",
                            },
                          ],
                          description: "The ID of the document.",
                        },
                        contentHash: {
                          type: "string",
                          description: "The hash of the document.",
                        },
                        metadata: {
                          description: "Information about the document.",
                          type: "object",
                          properties: {
                            contentType: {
                              type: "string",
                              description: "The content type of the document.",
                            },
                            fileName: {
                              type: "string",
                              description: "The name of the file.",
                            },
                            expiresAt: {
                              type: "string",
                              format: "date-time",
                              description:
                                "The date and time when the document expires.",
                            },
                            size: {
                              type: "integer",
                              format: "int64",
                              description: "The size of the document in bytes.",
                            },
                            processDefinitionId: {
                              allOf: [
                                {
                                  description:
                                    "Id of a process definition, from the model. Only ids of process definitions that are deployed are useful.",
                                  format: "ProcessDefinitionId",
                                  type: "string",
                                  example: "new-account-onboarding-workflow",
                                  title: "ProcessDefinitionId",
                                },
                              ],
                              description:
                                "The ID of the process definition that created the document.",
                            },
                            processInstanceKey: {
                              allOf: [
                                {
                                  description:
                                    "System-generated key for a process instance.",
                                  format: "ProcessInstanceKey",
                                  example: "2251799813690746",
                                  type: "string",
                                  allOf: [
                                    {
                                      description:
                                        "Zeebe Engine resource key (Java long serialized as string)",
                                      type: "string",
                                      title: "LongKey",
                                    },
                                  ],
                                  title: "ProcessInstanceKey",
                                },
                              ],
                              description:
                                "The key of the process instance that created the document.",
                            },
                            customProperties: {
                              type: "object",
                              description: "Custom properties of the document.",
                              additionalProperties: true,
                            },
                          },
                          title: "DocumentMetadata",
                        },
                      },
                      title: "DocumentReference",
                    },
                  },
                  failedDocuments: {
                    type: "array",
                    description: "Documents that failed creation.",
                    items: {
                      type: "object",
                      properties: {
                        fileName: {
                          type: "string",
                          description: "The name of the file.",
                        },
                        detail: {
                          type: "string",
                          description: "The detail of the failure.",
                        },
                      },
                      title: "DocumentCreationFailureDetail",
                    },
                  },
                },
              },
            ],
            title: "DocumentCreationBatchResponse",
          },
        },
      },
    },
    "207": {
      description:
        "Not all documents were uploaded successfully. More details are provided in the response body.\n",
      content: {
        "application/json": {
          schema: {
            allOf: [
              {
                type: "object",
                properties: {
                  createdDocuments: {
                    type: "array",
                    description: "Documents that were successfully created.",
                    items: {
                      type: "object",
                      properties: {
                        "camunda.document.type": {
                          type: "string",
                          description:
                            'Document discriminator. Always set to "camunda".',
                          enum: ["camunda"],
                        },
                        storeId: {
                          type: "string",
                          description: "The ID of the document store.",
                        },
                        documentId: {
                          allOf: [
                            {
                              description:
                                "Document Id that uniquely identifies a document.",
                              format: "DocumentId",
                              type: "string",
                              title: "DocumentId",
                            },
                          ],
                          description: "The ID of the document.",
                        },
                        contentHash: {
                          type: "string",
                          description: "The hash of the document.",
                        },
                        metadata: {
                          description: "Information about the document.",
                          type: "object",
                          properties: {
                            contentType: {
                              type: "string",
                              description: "The content type of the document.",
                            },
                            fileName: {
                              type: "string",
                              description: "The name of the file.",
                            },
                            expiresAt: {
                              type: "string",
                              format: "date-time",
                              description:
                                "The date and time when the document expires.",
                            },
                            size: {
                              type: "integer",
                              format: "int64",
                              description: "The size of the document in bytes.",
                            },
                            processDefinitionId: {
                              allOf: [
                                {
                                  description:
                                    "Id of a process definition, from the model. Only ids of process definitions that are deployed are useful.",
                                  format: "ProcessDefinitionId",
                                  type: "string",
                                  example: "new-account-onboarding-workflow",
                                  title: "ProcessDefinitionId",
                                },
                              ],
                              description:
                                "The ID of the process definition that created the document.",
                            },
                            processInstanceKey: {
                              allOf: [
                                {
                                  description:
                                    "System-generated key for a process instance.",
                                  format: "ProcessInstanceKey",
                                  example: "2251799813690746",
                                  type: "string",
                                  allOf: [
                                    {
                                      description:
                                        "Zeebe Engine resource key (Java long serialized as string)",
                                      type: "string",
                                      title: "LongKey",
                                    },
                                  ],
                                  title: "ProcessInstanceKey",
                                },
                              ],
                              description:
                                "The key of the process instance that created the document.",
                            },
                            customProperties: {
                              type: "object",
                              description: "Custom properties of the document.",
                              additionalProperties: true,
                            },
                          },
                          title: "DocumentMetadata",
                        },
                      },
                      title: "DocumentReference",
                    },
                  },
                  failedDocuments: {
                    type: "array",
                    description: "Documents that failed creation.",
                    items: {
                      type: "object",
                      properties: {
                        fileName: {
                          type: "string",
                          description: "The name of the file.",
                        },
                        detail: {
                          type: "string",
                          description: "The detail of the failure.",
                        },
                      },
                      title: "DocumentCreationFailureDetail",
                    },
                  },
                },
              },
            ],
            title: "DocumentCreationBatchResponse",
          },
        },
      },
    },
    "400": {
      description: "The provided data is not valid.",
      content: {
        "application/problem+json": {
          schema: {
            description:
              "A Problem detail object as described in [RFC 9457](https://www.rfc-editor.org/rfc/rfc9457). There may be additional properties specific to the problem type.\n",
            type: "object",
            properties: {
              type: {
                type: "string",
                format: "uri",
                description: "A URI identifying the problem type.",
                default: "about:blank",
                example: "about:blank",
              },
              title: {
                type: "string",
                description: "A summary of the problem type.",
                example: "Bad Request",
              },
              status: {
                type: "integer",
                format: "int32",
                description: "The HTTP status code for this problem.",
                example: 400,
                minimum: 400,
                maximum: 600,
              },
              detail: {
                type: "string",
                description: "An explanation of the problem in more detail.",
                example:
                  "Request property [maxJobsToActivates] cannot be parsed",
              },
              instance: {
                type: "string",
                description:
                  "A URI path identifying the origin of the problem.",
                example: "/v2/jobs/activation",
              },
            },
            title: "ProblemDetail",
          },
        },
      },
    },
    "415": {
      description:
        "The server cannot process the request because the media type (Content-Type) of the request payload is not supported  by the server for the requested resource and method.\n",
      content: {
        "application/problem+json": {
          schema: {
            description:
              "A Problem detail object as described in [RFC 9457](https://www.rfc-editor.org/rfc/rfc9457). There may be additional properties specific to the problem type.\n",
            type: "object",
            properties: {
              type: {
                type: "string",
                format: "uri",
                description: "A URI identifying the problem type.",
                default: "about:blank",
                example: "about:blank",
              },
              title: {
                type: "string",
                description: "A summary of the problem type.",
                example: "Bad Request",
              },
              status: {
                type: "integer",
                format: "int32",
                description: "The HTTP status code for this problem.",
                example: 400,
                minimum: 400,
                maximum: 600,
              },
              detail: {
                type: "string",
                description: "An explanation of the problem in more detail.",
                example:
                  "Request property [maxJobsToActivates] cannot be parsed",
              },
              instance: {
                type: "string",
                description:
                  "A URI path identifying the origin of the problem.",
                example: "/v2/jobs/activation",
              },
            },
            title: "ProblemDetail",
          },
        },
      },
    },
  }}
></StatusCodes>
