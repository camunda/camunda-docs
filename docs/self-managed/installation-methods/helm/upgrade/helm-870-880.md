---
id: upgrade-hc-870-880
sidebar_label: Upgrade 8.7 to 8.8
title: Camunda 8.7 to 8.8 Helm chart upgrade
description: "Upgrade to a more recent version of the Camunda Helm charts, and view configuration changes between versions."
toc_max_heading_level: 2
---

Upgrade from Camunda 8.7 to Camunda 8.8 by upgrading the Helm chart version from 12.x to 13.x.

This guide describes the steps and requirements for upgrading from Camunda 8.7 to Camunda 8.8 by upgrading the Helm chart.

:::tip Upgrade sequentially
Always upgrade from the latest patch of your current release → to the latest patch of the next release.

Example: from 12.x.x → 13.0.1 (not 13.0.0).

Check our [version matrix](https://helm.camunda.io/camunda-platform/version-matrix/) for available versions.
:::

## Prerequisites

The following prerequisites are required before upgrading:

| Prerequisite                            | Description                                                                                                                                                                                  |
| :-------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Helm chart version and Helm CLI version | Determine your Helm chart version and Helm CLI version and update them to the recommended versions listed in the [version matrix](https://helm.camunda.io/camunda-platform/version-matrix/). |
| Configuration changes                   | Ensure you have implemented any required configuration changes specific to the version you are upgrading to before running the `helm upgrade` command.                                       |
| 8.7 `values.yaml`                       | The approach described in this guide uses your existing 8.7 `values.yaml` file as a basis to create a new 8.8 `values.yaml`.                                                                 |

## Recommended upgrade steps

The recommended approach is as follows:

1. [Create 8.8 values.yaml](#step-1-create-88-valuesyaml): Copy your existing 8.7 `values.yaml` and use it as the basis for the new 8.8 file.
1. [Update for 8.8 compatibility](#step-2-update-for-8.8-compatibility): Adjust the new `values.yaml` to match the changes in 8.8 and its updated architecture.
1. [Verify with a greenfield install](#step-3-verify-with-a-greenfield-install): Test a fresh Camunda 8.8 installation using your updated `values.yaml` to confirm the configuration works correctly.
1. [Prepare and run the upgrade](#step-4-prepare-and-run-the-upgrade): Add the required upgrade-specific configuration, then execute the helm upgrade command.
1. [Monitor and validate](#step-5-monitor-and-validate): Track the upgrade process and ensure all components start and function properly.

:::caution
**During the upgrade, you must keep the same overall deployment setup.** Configuration values must be updated where required for 8.8 compatibility, but architectural changes or switching authentication methods are not supported during the upgrade. For example, the same components should remain deployed, the same database connections used, and your authentication method must stay the same.
:::

## Step 1: Create 8.8 `values.yaml`

Copy your existing 8.7 values.yaml, rename it (for example, `values-8.8.yaml`), and use it as the basis for your 8.8 configuration.

:::note
Camunda 8.8 introduces major architectural and configuration changes. Using your 8.7 values.yaml as the starting point helps preserve your existing configuration wherever possible during the upgrade.
:::

## Step 2: Update for 8.8 compatibility

Go through the following sections and configure your new 8.8 `values-8.8.yaml` file to be compatible with the new 8.8 changes and architecture.

### General changes

You must review and understand the Camunda 8.8 architectural changes and new default deployment approach:

| Change                                  | Description                                                                                                                                                                                                                                                                                                                                               |
| :-------------------------------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Applications consolidation              | Zeebe, Zeebe Gateway, Operate, and Tasklist are merged into one artifact/deployment named `Orchestration Cluster`.                                                                                                                                                                                                                                        |
| Basic auth + Orchestration Cluster only | <p>Basic auth + Orchestration Cluster only (via `zeebe` StatefulSet) is now the default.</p><ul><li>The Orchestration Cluster StatefulSet is still named `zeebe` to avoid downtime.</li><li>By default, all apps except the Orchestration Cluster are **disabled**.</li><li>Secondary storage data retention of per app is no longer supported.</li></ul> |
| Importers                               | <p>8.7 importers remain part of 8.8 for data migration.</p><ul><li>The importers run idle after completion.</li><li>You can scale them down manually. They will be removed in 8.9.</li></ul>                                                                                                                                                              |
| Resources                               | Adjust resources for the new Orchestration Cluster layout.                                                                                                                                                                                                                                                                                                |
| Exporters                               | A new Camunda Exporter is used.                                                                                                                                                                                                                                                                                                                           |
| Helm                                    | <p>Two Helm jobs support migration:</p><ul><li>`identity-migration`</li><li>`process-application-migration`</li></ul>                                                                                                                                                                                                                                     |
| Elasticsearch/OpenSearch                | Dedicated Elasticsearch/OpenSearch clusters per app are no longer supported.                                                                                                                                                                                                                                                                              |
| Metrics                                 | Application metrics have changed with 8.8.                                                                                                                                                                                                                                                                                                                |

:::info 8.8 resources
See [What's new in Camunda 8.8](/reference/announcements-release-notes/880/whats-new-in-88.md) for important changes to consider when planning your upgrade from Camunda 8.7.
:::

### Ensure required components are enabled

In 8.8, the default set of deployed components is different from 8.7 and you must select the Camunda components you want to deploy. The following components are **enabled by default**:

- Orchestration Cluster
- Connectors
- Elasticsearch Bitnami subchart

All other components **must be explicitly enabled** in your `values.yaml` if you need them:

- Console
- Management Identity
- Web Modeler
- Optimize

### Authentication

Make sure authentication is configured according to the following guidance:

#### Basic auth

Previously, in 8.7, if basic auth was enabled, it only applied to Operate and Tasklist. With 8.8, authentication now applies to the entire Orchestration Cluster. This means you must either migrate your users to the new cluster or reconfigure them accordingly.
If you do not want to use authentication, you must explicitly disable it for Orchestration cluster; otherwise, users must be added to all requests.

##### 1.3.2 OIDC

Ensure your `values.yaml` is configured according to the [OIDC guide](#).

##### 1.3.3 OAuth (Keycloak)

Ensure your `values.yaml` matches the [OAuth configuration guide](#).

##### 1.3.4 LDAP

No migration path is available. Please contact Camunda Consulting for support.

### Migrate secrets to new format

Review the new [secret conventions](#) in 8.8 and upgrade your secrets accordingly.

### Values key changes

Adjust your `values.yaml` based on the 8.8 unified configuration changes.

- Multi-tenancy must be configured in **two** locations.
- TLS/self-signed certificates apply **only** in the Orchestration Cluster.
- Double-check any deprecated or renamed config values.

| **Old key**     | **New key**            | **Notes** |
| --------------- | ---------------------- | --------- |
| **Web Modeler** |                        |           |
| `postgresql`    | `webModelerPostgresql` |           |

The consolidation of `Zeebe`, `Zeebe Gateway`, `Operate`, and `Tasklist` into the new `Orchestration Cluster` requires three types of changes:

#### Renamed keys - update references directly

Rename the top-level key `zeebe` to `orchestration`. Sub-keys remain the same.

| **Old key** | **New key**     | **Notes** |
| ----------- | --------------- | --------- |
| **Zeebe**   |                 |           |
| `zeebe`     | `orchestration` |           |

#### Relocated keys - move under orchestration

The following keys should be moved from the old components to `orchestration`.

| **Old key**                         | **New key**                          | **Notes**             |
| ----------------------------------- | ------------------------------------ | --------------------- |
| **Zeebe Gateway**                   |                                      |                       |
| `zeebeGateway.ingress`              | `orchestration.ingress`              |                       |
| `zeebeGateway.contextPath`          | `orchestration.contextPath`          |                       |
| `zeebeGateway.service.restPort`     | `orchestration.service.httpPort`     | ⚠️ Different key name |
| `zeebeGateway.service.grpcPort`     | `orchestration.service.grpcPort`     |                       |
| `zeebeGateway.service.commandPort`  | `orchestration.service.commandPort`  |                       |
| `zeebeGateway.service.internalPort` | `orchestration.service.internalPort` |                       |
| **Operate**                         |                                      |                       |
| `operate.enabled`                   | `orchestration.profiles.operate`     |                       |
| **Tasklist**                        |                                      |                       |
| `tasklist.enabled`                  | `orchestration.profiles.tasklist`    |                       |

#### Merged keys - manually consolidate

These keys existed separately across components. They must now be combined under `orchestration`. Pay close attention, as most are free-form inputs.

| **Old key**                       | **New key**                        | **Notes** |
| --------------------------------- | ---------------------------------- | --------- |
| **Configuration**                 |                                    |           |
| `zeebe.configuration`             | `orchestration.configuration`      |           |
| `zeebeGateway.configuration`      |                                    |           |
| `operate.configuration`           |                                    |           |
| `tasklist.configuration`          |                                    |           |
| **ExtraConfiguration**            |                                    |           |
| `zeebe.extraConfiguration`        | `orchestration.extraConfiguration` |           |
| `zeebeGateway.extraConfiguration` |                                    |           |
| `operate.extraConfiguration`      |                                    |           |
| `tasklist.extraConfiguration`     |                                    |           |
| **Env**                           |                                    |           |
| `zeebe.env`                       | `orchestration.env`                |           |
| `zeebeGateway.env`                |                                    |           |
| `operate.env`                     |                                    |           |
| `tasklist.env`                    |                                    |           |
| **EnvFrom**                       |                                    |           |
| `zeebe.envFrom`                   | `orchestration.envFrom`            |           |
| `zeebeGateway.envFrom`            |                                    |           |
| `operate.envFrom`                 |                                    |           |
| `tasklist.envFrom`                |                                    |           |
| **InitContainers**                |                                    |           |
| `zeebe.initContainers`            | `orchestration.initContainers`     |           |
| `zeebeGateway.initContainers`     |                                    |           |
| `operate.initContainers`          |                                    |           |
| `tasklist.initContainers`         |                                    |           |
| **Sidecars**                      |                                    |           |
| `zeebe.sidecars`                  | `orchestration.sidecars`           |           |
| `zeebeGateway.sidecars`           |                                    |           |
| `operate.sidecars`                |                                    |           |
| `tasklist.sidecars`               |                                    |           |
| **ExtraVolumes**                  |                                    |           |
| `zeebe.extraVolumes`              | `orchestration.extraVolumes`       |           |
| `zeebeGateway.extraVolumes`       |                                    |           |
| `operate.extraVolumes`            |                                    |           |
| `tasklist.extraVolumes`           |                                    |           |
| **ExtraVolumeMounts**             |                                    |           |
| `zeebe.extraVolumeMounts`         | `orchestration.extraVolumeMounts`  |           |
| `zeebeGateway.extraVolumeMounts`  |                                    |           |
| `operate.extraVolumeMounts`       |                                    |           |
| `tasklist.extraVolumeMounts`      |                                    |           |

:::tip
It is recommended to migrate to the new orchestration values structure. However, the Camunda 8.8 Helm chart (13.x.x) provides a compatibility layer, so configurations using the old structure from Camunda 8.7 (12.x.x) will still work.

Enable the compatibility layer with:

```yaml
global:
  compatibility:
    orchestration:
      enabled: true
```

:::

## Step 3: Verify with a greenfield install

In this step, you will perform a test Camunda 8.8 greenfield installation using your new 8.8 `values.yaml` file. If this test installation succeeds, this indicates your 8.8 `values.yaml` file is valid to use when actually running the upgrade.

```bash
helm repo add camunda https://helm.camunda.io
helm repo update

helm install camunda camunda/camunda-platform \
  --version 8.8.x \
  -f values-8.8.yaml

```

:::note
To verify the installation, run `kubectl get pods` and confirm that all pods are in the Running state.
Once you have successfully installed Camunda 8.8, return to this guide and continue with step 4 below.
:::

## Step 4: Prepare and run the upgrade

### Enable importer

To finish processing existing 8.7 data during the upgrade, you must deploy the 8.7 importers.
Without them, the migration cannot begin.
Once the migration is complete, you can either disable the importers or leave them idle.

```yaml
orchestration:
  importer:
    enabled: true
```

### Identity migration

The Identity Migration app lets you move data from Management Identity (8.7) to the new Orchestration Cluster Identity (8.8).
It is recommended to run the migration so your users and authorizations are transferred automatically.
If you skip it, you’ll need to set up all authorizations manually in the new cluster.

When using the migration app, keep the following in mind:

- It runs as a Kubernetes job.
- It is idempotent, meaning you can safely rerun it without creating duplicates.
- Both Keycloak and OIDC (e.g. Entra ID) are supported.
- Migrates roles, groups, tenants, users, and their assignments.
- if [resource authorizations](../../../../../versioned_docs/version-8.7/self-managed/identity/access-management/resource-authorizations.md) are used, you must enable the following to take your resource authorizations into account:

```yaml
orchestration.migration.identity.resourceAuthorizationsEnabled: true
```

- After a successful migration, you can delete the job, ConfigMap, and created migration client.

#### Keycloak

If you are using the internal Keycloak component that is provided by the Helm chart, the following entities will be migrated:

1. Roles and their permissions
2. Group relationships
3. Group members/users
4. Group role assignments (dependent on roles being migrated)
5. Group resource authorizations
6. User role assignments (dependent on roles being migrated)
7. Applications
8. Tenants (dependent on roles)

#### OIDC (OpenID Connect)

If you are using an external identity provider, such as Microsoft Entra ID, the following entities will be migrated:

- Roles
- Tenants
- Mappings

#### Enable identity migration

Enable the identity migration in your `values.yaml`:

```yaml
migration:
  identity:
    enabled: true
    idpApplicationId: "your-id" # only required if you are using OIDC (OpenID Connect)
```

### Data migration (required)

The Data Migration app is mandatory when upgrading from Camunda 8.7.
It upgrades process data storage from the old 8.7 indices (tasklist-process, operate-process) to the new unified operate-process index in 8.8.

:::warning Important
Only supported when upgrading from 8.7 (not on fresh 8.8 installs).
Can run only once.
Requires that 8.7 already has process data; otherwise the job will fail.
:::

Enable process migration in your `values.yaml`:

```yaml
orchestration:
  migration:
    data:
      enabled: true
```

This creates a Kubernetes job and enables the Tasklist and Operate importers, which are necessary for migration to complete.

To confirm success, check the job logs or Prometheus metric:

- `camunda_migration_processes_migrated` — should equal the number of documents in the operate-process index.

### Full migration configuration

This is a full example of the migration configuration for your 8.8 `values.yaml`.
It includes identity and data migration, and deploys the 8.7 importer - **data migration and importers are required** for a successful upgrade from 8.7:

```yaml
orchestration:
  importer:
    enabled: true

migration:
  identity:
    enabled: true
    idpApplicationId: "your-id" # only required if you are using OIDC (OpenID Connect)
  data:
    enabled: true
```

### Extract secrets

If you have installed the Camunda 8 Helm charts before with default values, Identity and the related authentication mechanism are enabled. If you have disabled Identity, see how to upgrade Camunda with Identity disabled.

If not specified on installation, the Helm chart generates random secrets for all components (including Keycloak). To upgrade successfully, these secrets must be extracted and provided during your upgrade.

To extract the secrets, use the following code snippet, replacing `camunda` with your actual Helm release name:

```shell
# Uncomment if Console is enabled.
# export CONSOLE_SECRET=$(kubectl get secret "camunda-console-identity-secret" -o jsonpath="{.data.console-secret}" | base64 --decode)
export TASKLIST_SECRET=$(kubectl get secret "camunda-tasklist-identity-secret" -o jsonpath="{.data.tasklist-secret}" | base64 --decode)
export OPTIMIZE_SECRET=$(kubectl get secret "camunda-optimize-identity-secret" -o jsonpath="{.data.optimize-secret}" | base64 --decode)
export OPERATE_SECRET=$(kubectl get secret "camunda-operate-identity-secret" -o jsonpath="{.data.operate-secret}" | base64 --decode)
export CONNECTORS_SECRET=$(kubectl get secret "camunda-connectors-identity-secret" -o jsonpath="{.data.connectors-secret}" | base64 --decode)
export ZEEBE_SECRET=$(kubectl get secret "camunda-zeebe-identity-secret" -o jsonpath="{.data.zeebe-secret}" | base64 --decode)
export KEYCLOAK_ADMIN_SECRET=$(kubectl get secret "camunda-keycloak" -o jsonpath="{.data.admin-password}" | base64 --decode)
export KEYCLOAK_MANAGEMENT_SECRET=$(kubectl get secret "camunda-keycloak" -o jsonpath="{.data.management-password}" | base64 --decode)
export POSTGRESQL_SECRET=$(kubectl get secret "camunda-postgresql" -o jsonpath="{.data.postgres-password}" | base64 --decode)
```

### Run `helm upgrade`

After exporting all secrets into environment variables, run the following upgrade command:

```shell
helm repo update
helm upgrade camunda camunda/camunda-platform \
  # Uncomment if Console is enabled.
  # --set global.identity.auth.console.existingSecret=$CONSOLE_SECRET \
  --set global.identity.auth.tasklist.existingSecret=$TASKLIST_SECRET \
  --set global.identity.auth.optimize.existingSecret=$OPTIMIZE_SECRET \
  --set global.identity.auth.operate.existingSecret=$OPERATE_SECRET \
  --set global.identity.auth.connectors.existingSecret=$CONNECTORS_SECRET \
  --set global.identity.auth.zeebe.existingSecret=$ZEEBE_SECRET \
  --set identityKeycloak.auth.adminPassword=$KEYCLOAK_ADMIN_SECRET \
  --set identityKeycloak.auth.managementPassword=$KEYCLOAK_MANAGEMENT_SECRET \
  --set identityKeycloak.postgresql.auth.password=$POSTGRESQL_SECRET
```

If you have set secret values on installation, you must specify them again on the upgrade either via `--set`, as demonstrated above, or by passing in a values file using the `-f` flag.

:::note
For more details on the Keycloak upgrade path, see the [Keycloak upgrade guide](https://www.keycloak.org/docs/latest/upgrading/).
:::

### Management Identity considerations

If you previously installed the Camunda 8 Helm charts with default values, then Management Identity and its authentication mechanism are enabled by default. If you have disabled Management Identity, follow the instructions in [with Management Identity disabled](#management-identity-disabled).

#### Identity disabled

If you have **disabled** Camunda Identity and the related authentication mechanism, Camunda can be upgraded with the following command:

```shell
helm repo update
helm upgrade camunda
```

### Trigger the upgrade

Trigger the upgrade by running:

```bash
helm upgrade camunda charts/camunda-platform-8.8 -f values-8.8.yaml
```

## Step 5: Monitor and validate

### Monitor the upgrade

Monitor the Helm job logs (`identity-migration`, `process-application-migration`).

### Validate the upgrade

Confirm the migration has finished by checking application logs and readiness status.

### Next steps

## Troubleshooting

### Upgrade failed due to missing secrets

The following upgrade error is related to [secrets extraction](#extract-secrets):

```shell
Error: UPGRADE FAILED: execution error at (camunda-platform/charts/identity/templates/tasklist-secret.yaml:10:22):
PASSWORDS ERROR: You must provide your current passwords when upgrading the release.
                 Note that even after reinstallation, old credentials may be needed as they may be kept in persistent volume claims.
                 Further information can be obtained at https://docs.bitnami.com/general/how-to/troubleshoot-helm-chart-issues/#credential-errors-while-upgrading-chart-releases

    'global.identity.auth.tasklist.existingSecret' must not be empty, please add '--set global.identity.auth.tasklist.existingSecret=$TASKLIST_SECRET' to the command. To get the current value:

        export TASKLIST_SECRET=$(kubectl get secret --namespace "camunda" "camunda-platform-test-tasklist-identity-secret" -o jsonpath="{.data.tasklist-secret}" | base64 --decode)
```

When the Helm chart is removed or upgraded, persistent volume claims (PVCs) for secret storage are not removed or recreated. To prevent Helm from recreating secrets that have already been generated, the [Bitnami](https://github.com/bitnami/charts/tree/master/bitnami/common) library chart used by Camunda blocks the upgrade path, resulting in the above error.

To complete your upgrade, [extract your secrets](#extract-secrets) and provide them as environment variables during the upgrade process.
