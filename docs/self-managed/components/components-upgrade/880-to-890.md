---
id: 880-to-890
sidebar_label: Update 8.8 to 8.9
title: Components update 8.8 to 8.9
description: "Review which adjustments must be made to update from Camunda 8.8.x to Camunda 8.9.0."
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

The following sections explain which adjustments must be made to migrate from Camunda 8.8.x to 8.9.x.

## Web Modeler

### Cluster configuration

#### Logging framework changed

Web Modeler's `restapi` component now uses [Apache Log4j 2](https://logging.apache.org/log4j/2.x/) for logging.

See [this migration guide](https://logging.apache.org/log4j/2.x/migrate-from-logback.html) to learn about the changes you may need to make if you are using a custom Logback configuration.

### Logging configuration

The default logging configuration is included inline for quick reference.

The default layout displays **time only**, thread name, MDC context, log level, logger name, and message.

#### Example pattern

```perl
%d{HH:mm:ss.SSS} [%t] %notEmpty{[%X] }%-5level %logger{36} - %msg%n
```

See [Logging](/self-managed/components/modeler/web-modeler/configuration/logging.md) for advanced settings and more details.

### Embedded Web Server

Web Modeler now uses [Apache Tomcat](https://tomcat.apache.org/) instead of [Undertow](https://undertow.io/).

If you are using a custom undertow configuration, you will need to migrate it.

The following sections describe different aspects to take into account.

I full list of the Spring properties can be found [here](https://docs.spring.io/spring-boot/appendix/application-properties/index.html), and also you can check the [Spring embededded web server documentation](https://docs.spring.io/spring-boot/how-to/webserver.html) for other details.

#### Properties That Are Undertow-Specific (Remove / Replace)

Anything under:

```yaml
server.undertow.*
```

These properties stop having any effect once you switch to Tomcat.
Below is a complete list of the important ones and what to do with each.

##### Undertow Access Log

| Undertow Property                 | What to do after migrating                                   |
| --------------------------------- | ------------------------------------------------------------ |
| server.undertow.accesslog.enabled | Replace with server.tomcat.accesslog.enabled                 |
| server.undertow.accesslog.pattern | Replace with server.tomcat.accesslog.pattern                 |
| server.undertow.accesslog.dir     | Replace with server.tomcat.basedir or a custom log directory |
| server.undertow.accesslog.prefix  | Tomcat uses server.tomcat.accesslog.prefix                   |
| server.undertow.accesslog.rotate  | Tomcat rotates differently → confirm desired behavior        |

##### Undertow Threading

| Undertow Property              | Tomcat Equivalent                                      |
| ------------------------------ | ------------------------------------------------------ |
| server.undertow.threads.io.    | server.tomcat.max-connections / connector customizer   |
| server.undertow.threads.worker | server.tomcat.max-threads                              |
| server.undertow.buffer-size    | Tomcat uses internal buffer sizes — no direct property |
| server.undertow.direct-buffers | No equivalent (Tomcat uses NIO buffers differently)    |

##### Undertow Builder/Handler Customizations

Properties such as:

```yaml
server.undertow.eager-filter-init
server.undertow.allow-encoded-slash
server.undertow.decode-url
server.undertow.max-http-post-size
server.undertow.no-request-timeout
```

Most have no direct Tomcat property and must be implemented via:

- TomcatServletWebServerFactory
- TomcatConnectorCustomizer
- or left out if not needed

#### Tomcat-Specific Properties (Add / Review)

Everything under:

```yaml
server.tomcat.*
```

Becomes newly relevant.
Here is the essential subset to review.

##### Access Logs

| Tomcat Property                   | Description              |
| --------------------------------- | ------------------------ |
| server.tomcat.accesslog.enabled   | Enable Tomcat access log |
| server.tomcat.accesslog.directory | Directory for logs       |
| server.tomcat.accesslog.pattern   | Log format               |
| server.tomcat.accesslog.prefix    | Filename prefix          |
| server.tomcat.accesslog.suffix    | Filename suffix          |

NOTE: Tomcat rotates differently than Undertow. Verify log retention and file sizes.

##### Performance / Threading

| Property                        | Description                         |
| ------------------------------- | ----------------------------------- |
| server.tomcat.max-connections   | Max simultaneous connections        |
| server.tomcat.accept-count      | Queue size for incoming connections |
| server.tomcat.max-threads       | Max request-processing threads      |
| server.tomcat.min-spare-threads | Minimum idle threads                |

Tomcat uses a standard blocking I/O thread model, unlike Undertow’s worker & IO threads.

##### Remote IP / Proxy Handling

If you’re behind a proxy/load balancer:

| Property                                | Use                       |
| --------------------------------------- | ------------------------- |
| server.tomcat.remoteip.remote-ip-header | e.g. X-Forwarded-For      |
| server.tomcat.remoteip.protocol-header  | e.g. X-Forwarded-Proto    |
| server.tomcat.remoteip.internal-proxies | Regex for trusted proxies |
| server.forward-headers-strategy         | `NATIVE` or `FRAMEWORK`   |

Undertow handled forwarded headers differently, so this is important.

##### MBean Registry

Tomcat disables this by default:

```
server.tomcat.mbeanregistry.enabled=true
```

Enable if you need JMX metrics.

##### Legacy Cookie Processor (if needed)

If your app depends on older or RFC-violating cookies:

```
server.tomcat.use-legacy-cookie-processor=true
```

Undertow is more lenient with cookies, so some apps require this.

##### Additional Tomcat Options

| Property                          | Notes                                                  |
| --------------------------------- | ------------------------------------------------------ |
| server.tomcat.relaxed-path-chars  | Useful for special characters in URLs                  |
| server.tomcat.relaxed-query-chars | Needed when Undertow allowed characters Tomcat rejects |
| server.tomcat.connection-timeout  | Defaults differ compared to Undertow                   |

#### Behavioral Differences to Re-evaluate (Not Just Properties)

##### URL Decoding & Allowed Characters

Tomcat is stricter.

If you had URLs like:

```
/api/v1/some%2Fpath
```

Tomcat may reject them unless you update your configuration:

```
server.tomcat.relaxed-path-chars=/
server.tomcat.relaxed-query-chars=|,{,},[,]
```

##### Large Payload Handling

Undertow’s `max-http-post-size` needs review because Tomcat uses:

```
spring.servlet.multipart.max-file-size
spring.servlet.multipart.max-request-size
server.tomcat.max-swallow-size
```
